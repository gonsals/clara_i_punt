---
const response = await fetch(
    "https://api.airtable.com/v0/apprwnfLUBTy5NZAo/Productos",
    {
        method: "GET",
        headers: {
            Authorization:
                "Bearer patB7W5vuPKWY69To.6a98e510d25ab22ab60b84be9b9e410daac8c36ea1e565e89cf6eafb6c89a465", // Tu token de API
            "Content-Type": "application/json",
        },
    }
);

if (!response.ok) {
    throw new Error(`Error: ${response.status}`);
}

const { records } = await response.json();
---

<div class="container">
    {
        records.length > 0 ? (
            records.map((p: any) => <p>{p.fields.Nombre ?? "Sin nombre"}</p>)
        ) : (
            <p>No hay productos disponibles.</p>
        )
    }
</div>
